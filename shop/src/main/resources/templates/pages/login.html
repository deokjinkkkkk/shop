<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<link th:href="@{assets/pages/css/login.css}" rel="stylesheet">
<script th:src="@{assets/pages/scripts/login.js}" type="text/javascript"></script>
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

</head>
<body>
<div id="form-container">
	<div id="form-inner-container">
		<!-- Sign up form -->
		<div id="sign-up-container">
			<h3>Get Started</h3>
			<form method="post" action="/signUp" id="signUpProc">
				<label for="name">아룸</label> 
				<input type="text" name="name"id="name" placeholder="Name"> 
				<label for="email">이메일</label>
				<input type="email" name="email" id="email" placeholder="Email" th:style="${'width: 45%; display:inline-block'}">
				<span th:style="${'color: #7369AB'}">@</span>
				<select id="emailSel" >
					<option value diasbled>선택해주세요</option>
					<option value="naver.com">naver.com</option>
					<option value="daum.net">daum.net</option>
					<option value="gmail.com">gmail.com</option>	
				</select>
				<button type="button" id="emailBtn">이메일 인증하기</button>
				<label for="password">비밀번호</label> 
				<input type="password"name="userPwd" id="userPwd" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
				<label for="password">비밀번호 확인</label> 
				<input type="password"name="pwdchk" id="passchk" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
				<label for="name">전화번호</label> 
				<input type="text" name="tel"id="tel" placeholder="010&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
					
				<div id="form-controls">
					<button type="button" id="signUp">Sign Up</button>
					<button type="button" id="toggleSignIn">Sign In</button>
				</div>

				<input type="checkbox" name="terms" id="terms"> <label
					for="terms">I agree to the <a href="#" class="termsLink">Terms
						of service</a> and <a href="#" class="termsLink">Privacy Policy</a>.
				</label>
			</form>
		</div>

		<!-- Sign in form -->
		<div id="sign-in-container" class="hide">
			<h3>Welcome Back</h3>
			<form method="post" action="/loginProc">
				<label for="username">Username</label> <input type="text"
					name="email" id="email" placeholder="user@example.com">

				<label for="userPwd">Password</label> <input type="password"
					name="userPwd" id="userPwd"
					placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">

				<div id="form-controls">
					<button type="submit">Sign In</button>
					<button type="button" id="toggleSignUp">Sign Up</button>
				</div>

				<input type="checkbox" name="terms" id="terms"> <label
					for="terms">I agree to the <a href="#" class="termsLink">Terms
						of service</a> and <a href="#" class="termsLink">Privacy Policy</a>.
				</label>
			</form>
		</div>

		<!-- Lottie animation -->
		<div id="animation-container">
			<lottie-player
				src="https://assets3.lottiefiles.com/packages/lf20_aesgckiv.json"
				background="transparent" speed="1"
				style="width: 520px; height: 520px;" loop autoplay></lottie-player>
		</div>
	</div>
</div>


<script>
$("#signUp").click(function() {
	name = $("#name").val()
	emailSel  = $("#emailSel").val()
	if (emailSel == '') {
		console.log("이메일 도메인을 선택하세요")
		return false
	}
	

	$.ajax({
		url : "/nameChk",
		data : {
			"name" : name
		},
		success : function(data) {
			console.log(data);
			if (data == "success") {
				console.log("성공하였습니다.")
				$("#signUpProc").submit
			} else {
				console.log("아이디가 중복상태입니다.")
				$("#name").val('')
				$('#name').focus()
			}
		},
		error : function(xhr, status, error) {
			console.log(error)
		}
	});
})
</script>
</body>

</html>